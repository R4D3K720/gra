<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>Aurora X â€” Ultra Premium Landing</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#07080d;
    --card:#0e1018;
    --ink:#eaf2ff;
    --muted:#a8b3c9;
    --acc1:#65e1ff;
    --acc2:#8a6bff;
    --acc3:#ff6fa6;
    --radial:radial-gradient(900px 600px at 20% -10%, rgba(101,225,255,.25), transparent 60%),
             radial-gradient(900px 600px at 120% 10%, rgba(138,107,255,.20), transparent 60%),
             radial-gradient(900px 600px at 80% 120%, rgba(255,111,166,.14), transparent 60%);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    color:var(--ink); background:var(--radial), var(--bg); overflow-x:hidden;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    scroll-behavior:smooth;
  }
  a{color:inherit; text-decoration:none}
  .container{width:min(1140px,92vw); margin-inline:auto}
  /* --- PRELOADER --- */
  #preloader{
    position:fixed; inset:0; background:linear-gradient(180deg,#06070b,#0a0c14); z-index:2000;
    display:grid; place-items:center;
  }
  .loader{
    width:96px; height:96px; border-radius:50%;
    background:conic-gradient(from 0deg, var(--acc1), var(--acc2), var(--acc3), var(--acc1));
    -webkit-mask:radial-gradient(farthest-side, #0000 calc(100% - 16px), #000 0);
            mask:radial-gradient(farthest-side, #0000 calc(100% - 16px), #000 0);
    animation:spin 1.1s linear infinite;
  }
  @keyframes spin{to{transform:rotate(1turn)}}
  /* --- NAV --- */
  .nav{
    position:fixed; inset-inline:0; top:12px; z-index:1000; display:flex; justify-content:center;
  }
  .nav .bar{
    display:flex; gap:6px; padding:10px; border-radius:16px; align-items:center;
    background:rgba(15,18,28,.6); border:1px solid rgba(255,255,255,.08); backdrop-filter:blur(12px);
  }
  .nav a{padding:10px 14px; border-radius:12px; font-weight:600; opacity:.9}
  .nav a.active,.nav a:hover{background:rgba(255,255,255,.08)}
  /* --- HERO --- */
  header{position:relative; min-height:120svh; overflow:hidden; display:grid; place-items:center; isolation:isolate}
  canvas#stars{position:absolute; inset:0; z-index:0}
  .halo{position:absolute; inset:-20%; filter:blur(80px); opacity:.35; z-index:0;
        background:radial-gradient(600px 400px at 15% 10%, rgba(101,225,255,.45), transparent 60%),
                   radial-gradient(600px 400px at 85% 35%, rgba(138,107,255,.4), transparent 60%)}
  .hero{position:relative; z-index:1; display:grid; grid-template-columns:1.15fr .85fr; gap:min(7vw,50px); align-items:center; padding-top:70px}
  .overline{display:inline-flex; gap:.5rem; align-items:center; padding:.35rem .65rem; border-radius:999px;
            background:linear-gradient(90deg, rgba(101,225,255,.2), rgba(255,111,166,.2));
            border:1px solid rgba(255,255,255,.16); font-weight:700; font-size:.85rem}
  h1{font-size:clamp(2rem,6.8vw,4.5rem); line-height:1.04; letter-spacing:-.01em; margin:.4rem 0 .6rem}
  .grad{background:linear-gradient(90deg,var(--acc1),var(--acc2),var(--acc3)); -webkit-background-clip:text; background-clip:text; color:transparent}
  .lead{color:var(--muted); max-width:60ch}
  .cta{display:flex; gap:12px; align-items:center; margin-top:18px; flex-wrap:wrap}
  .btn{appearance:none; border:0; cursor:pointer; border-radius:14px; padding:14px 20px; font-weight:800;
       background:linear-gradient(135deg,var(--acc2),var(--acc3)); color:white; transition:transform .12s, box-shadow .2s;}
  .btn:active{transform:scale(.98)}
  .btn.secondary{background:transparent; border:1px solid rgba(255,255,255,.15); font-weight:700}
  .magnet{position:relative; display:inline-block}
  .magnet:hover .btn{transform:translate(var(--tx,0), var(--ty,0)) scale(1.02)}
  /* Phone mock */
  .phone{position:relative; width:min(360px,86vw); aspect-ratio:9/19.5; margin-inline:auto; border-radius:32px;
         background:linear-gradient(160deg,#141726 0%,#0f121c 100%);
         border:1px solid rgba(255,255,255,.08); box-shadow:0 20px 60px rgba(0,0,0,.6), inset 0 0 0 8px #0a0c13;
         overflow:hidden; transform:rotate(-7deg) translateY(12px); transition:transform .6s cubic-bezier(.2,.8,.2,1)}
  .phone .notch{position:absolute; top:8px; left:50%; transform:translateX(-50%); width:42%; height:18px; background:#0a0c13; border-radius:0 0 12px 12px; border:1px solid rgba(255,255,255,.06)}
  .screen{position:absolute; inset:12px; border-radius:24px; overflow:hidden; background:linear-gradient(180deg,#121528,#0a0c16)}
  .screen .shine{position:absolute; inset:-20% -20% auto auto; width:180%; height:140%; background:
                 conic-gradient(from 200deg at 70% 10%, rgba(101,225,255,.24), rgba(138,107,255,.22), rgba(255,111,166,.25), transparent 60%);
                 opacity:.65; mix-blend-mode:screen; animation:shine 14s linear infinite}
  @keyframes shine{to{transform:rotate(1turn)}}
  .ui{position:absolute; inset:0; display:grid; place-items:center; gap:12px; text-align:center; padding:16px}
  .tag{display:inline-flex; gap:.5rem; align-items:center; padding:.35rem .75rem; border-radius:999px; background:rgba(255,255,255,.06);
       border:1px solid rgba(255,255,255,.12); color:#d7e6ff; font-weight:700; font-size:.85rem; backdrop-filter:blur(6px)}
  .floating{position:absolute; right:-12%; top:16%; width:56%; background:rgba(255,255,255,.05);
            border:1px solid rgba(255,255,255,.12); border-radius:16px; padding:12px; backdrop-filter:blur(6px);
            transform:translateY(14px); opacity:0; transition:transform .6s, opacity .6s}
  .phone:hover{transform:rotate(-2deg) translateY(0)}
  /* --- SECTIONS --- */
  section{position:relative; padding:90px 0}
  .grid3{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
  .card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03)); border:1px solid rgba(255,255,255,.1);
        border-radius:16px; padding:18px; min-height:150px; transform:translateY(18px) scale(.98); opacity:0; transition:transform .7s cubic-bezier(.2,.8,.2,1), opacity .7s}
  .card.show{transform:translateY(0) scale(1); opacity:1}
  .ico{width:38px; height:38px; border-radius:10px; display:grid; place-items:center; margin-bottom:12px;
       background:linear-gradient(135deg,var(--acc1),var(--acc2)); font-weight:800}
  /* Tabs */
  .tabs{margin-top:18px; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:14px}
  .tab-head{display:flex; gap:6px; padding:8px; border-bottom:1px solid rgba(255,255,255,.08); flex-wrap:wrap}
  .tab-head button{padding:10px 14px; border-radius:12px; border:0; background:transparent; color:var(--ink); font-weight:700; cursor:pointer}
  .tab-head button.active{background:rgba(255,255,255,.1)}
  .tab-body>div{display:none; padding:16px}
  .tab-body>div.active{display:block}
  /* Showcases */
  .showcase{display:grid; grid-template-columns:1.1fr .9fr; gap:20px; align-items:center}
  .panel{height:380px; border-radius:18px; overflow:hidden; position:relative; border:1px solid rgba(255,255,255,.1); background:#0e111a}
  .panel .layer{position:absolute; inset:-10%; background:radial-gradient(900px 600px at 30% 10%, rgba(101,225,255,.24), transparent 40%),
                                         radial-gradient(900px 600px at 90% 50%, rgba(138,107,255,.24), transparent 40%);
                animation:floatBg 14s ease-in-out infinite alternate}
  @keyframes floatBg{from{transform:translateY(-1%)} to{transform:translateY(1%)}}
  .panel .badge{position:absolute; bottom:12px; right:12px; padding:.4rem .7rem; border-radius:999px; background:rgba(0,0,0,.4); border:1px solid rgba(255,255,255,.12)}
  /* Configurator */
  .swatches{display:flex; gap:10px; margin-top:12px; flex-wrap:wrap}
  .swatch{width:28px; height:28px; border-radius:999px; border:2px solid #fff2; cursor:pointer; outline:2px solid transparent; outline-offset:2px}
  .swatch.active{outline-color:#fff8}
  /* Accordion */
  .accordion{display:grid; gap:10px; margin-top:18px}
  details{background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:14px 16px}
  summary{cursor:pointer; list-style:none; font-weight:800}
  details p{color:#cfd7ee; margin:.6rem 0 .2rem}
  /* CTA bar */
  .cta-bar{position:sticky; bottom:16px; margin-top:40px; z-index:900; display:flex; justify-content:center}
  .cta-bar .inner{display:flex; gap:12px; align-items:center; background:rgba(18,19,26,.7); border:1px solid rgba(255,255,255,.1); border-radius:18px; padding:10px 14px; backdrop-filter:blur(8px)}
  /* Testimonials marquee */
  .marquee{overflow:hidden; border:1px solid rgba(255,255,255,.08); border-radius:14px; background:rgba(255,255,255,.03); margin-top:16px}
  .marquee-track{display:flex; gap:16px; padding:12px; animation:mar 22s linear infinite}
  .bubble{white-space:nowrap; padding:10px 14px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1); color:#dfe7ff; font-weight:600}
  @keyframes mar{to{transform:translateX(-50%)}}
  /* Footer */
  footer{padding:50px 0; color:#b9c2db; font-size:.92rem}
  /* Responsive */
  @media (max-width:980px){ .hero{grid-template-columns:1fr; text-align:center} .showcase{grid-template-columns:1fr} .grid3{grid-template-columns:1fr} .phone{margin-top:18px}}
</style>
</head>
<body>
  <!-- PRELOADER -->
  <div id="preloader">
    <div class="loader"></div>
  </div>

  <!-- NAV -->
  <div class="nav">
    <div class="bar">
      <a href="#start" class="active">Start</a>
      <a href="#funkcje">Funkcje</a>
      <a href="#pokaz">Pokaz</a>
      <a href="#konfigurator">Konfigurator</a>
      <a href="#faq">FAQ</a>
    </div>
  </div>

  <!-- HERO -->
  <header id="start">
    <canvas id="stars"></canvas>
    <div class="halo" aria-hidden="true"></div>
    <div class="container hero">
      <div>
        <span class="overline">NowoÅ›Ä‡ â€¢ Edycja Limitowana</span>
        <h1>Poznaj <span class="grad">Aurora X</span></h1>
        <p class="lead">Najbardziej dopracowany landing na mobile. DziesiÄ…tki mikroâ€‘interakcji, pÅ‚ynne przejÅ›cia 3D, parallax, karuzele i sticky CTA. Wszystko w jednym pliku.</p>
        <div class="cta">
          <span class="magnet"><button class="btn" id="buy">Kup teraz â€” 1299 zÅ‚</button></span>
          <span class="magnet"><button class="btn secondary" id="learn">Demo efektÃ³w</button></span>
          <span class="tag">WysyÅ‚ka 24h</span>
          <span class="tag">Gwarancja 2 lata</span>
        </div>
      </div>
      <div>
        <div class="phone" id="phone">
          <div class="notch"></div>
          <div class="screen">
            <div class="shine"></div>
            <div class="ui">
              <div class="tag">Aurora UI â€” tryb pokazowy</div>
              <h3 style="margin:.2rem 0">Interakcje 3D</h3>
              <p style="color:#cfd7ee; max-width:44ch">Dotyk, przechylenie i przewijanie sterujÄ… animacjami. PÅ‚ynnie i responsywnie.</p>
            </div>
            <div class="floating" id="float1">
              <strong>Live Widget</strong>
              <p style="margin:.2rem 0 0">Powiadomienia i skrÃ³ty w czasie rzeczywistym.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- FEATURES -->
  <section id="funkcje">
    <div class="container">
      <h2 style="text-align:center; margin-bottom:12px">Dlaczego <span class="grad">Aurora X</span>?</h2>
      <p class="lead" style="text-align:center; margin-inline:auto; max-width:70ch">Zaprojektowane jak landing topowych marek. Natywny JS i CSS, zero ciÄ™Å¼kich bibliotek. PoniÅ¼ej tylko wycinek moÅ¼liwoÅ›ci.</p>
      <div class="grid3" style="margin-top:16px">
        <article class="card"><div class="ico">âœ¨</div><h3>Mikroâ€‘interakcje</h3><p>Przyciski â€magnetyczneâ€, sprÄ™Å¼yste animacje, subtelne cienie i skale.</p></article>
        <article class="card"><div class="ico">ğŸ“±</div><h3>Mobileâ€‘first</h3><p>UkÅ‚ad i target dotykowy dopieszczone pod iPhone â€” ale Å›miga wszÄ™dzie.</p></article>
        <article class="card"><div class="ico">âš¡</div><h3>60 fps</h3><p>Transform + opacity, IntersectionObserver i Web Animations API.</p></article>
      </div>

      <div class="tabs">
        <div class="tab-head">
          <button class="active" data-tab="t1">Scroll reveal</button>
          <button data-tab="t2">Parallax</button>
          <button data-tab="t3">Modale & Karuzele</button>
          <button data-tab="t4">Akordeon</button>
        </div>
        <div class="tab-body">
          <div id="t1" class="active"><p class="lead">Elementy pojawiajÄ… siÄ™ kaskadowo, gdy wchodzÄ… w viewport â€” bez bibliotek.</p></div>
          <div id="t2"><p class="lead">Warstwy tÅ‚a poruszajÄ… siÄ™ wolniej od treÅ›ci â€” efekt gÅ‚Ä™bi bez utraty wydajnoÅ›ci.</p></div>
          <div id="t3"><p class="lead">Wbudowany modal z galeriÄ… SVG i przyciskami sterujÄ…cymi. PÅ‚ynne przejÅ›cia.</p></div>
          <div id="t4"><p class="lead">Native &lt;details&gt; z customowym stylem i miÄ™kkÄ… animacjÄ… wysokoÅ›ci.</p></div>
        </div>
      </div>

      <div class="marquee">
        <div class="marquee-track" id="mq">
          <span class="bubble">â€WyglÄ…da jak Apple/Tesla landingâ€</span>
          <span class="bubble">â€PÅ‚ynne jak masÅ‚o, dziaÅ‚a na starym iPhonieâ€</span>
          <span class="bubble">â€Zero frameworkÃ³w, a tyle bajerÃ³w!â€</span>
          <span class="bubble">â€Åšwietny template na kampaniÄ™â€</span>
          <span class="bubble">â€UI jak natywna aplikacjaâ€</span>

          <span class="bubble">â€WyglÄ…da jak Apple/Tesla landingâ€</span>
          <span class="bubble">â€PÅ‚ynne jak masÅ‚o, dziaÅ‚a na starym iPhonieâ€</span>
          <span class="bubble">â€Zero frameworkÃ³w, a tyle bajerÃ³w!â€</span>
          <span class="bubble">â€Åšwietny template na kampaniÄ™â€</span>
          <span class="bubble">â€UI jak natywna aplikacjaâ€</span>
        </div>
      </div>

      <div class="accordion">
        <details><summary>Jak wyglÄ…da integracja z PayPal?</summary><p>Pod â€Kup terazâ€ wpinamy przycisk PayPal Checkout lub link do koszyka. Wystarczy TwÃ³j eâ€‘mail PayPal â€” mogÄ™ od razu podstawiÄ‡ w kodzie.</p></details>
        <details><summary>Czy moÅ¼na dodaÄ‡ wideo?</summary><p>Tak! W sekcji â€Pokazâ€ przewidziaÅ‚em sticky video lub autoâ€‘play w trybie wyciszonym, z PIP.</p></details>
        <details><summary>SEO i wydajnoÅ›Ä‡?</summary><p>Jeden plik, webfont jeden krÃ³j, brak frameworka â€” TTFB i CLS minimalne. Dodaj meta/OG i gotowe.</p></details>
      </div>
    </div>

    <div class="cta-bar">
      <div class="inner">
        <span class="tag">DziÅ› darmowa dostawa</span>
        <button class="btn" id="buy2">Dodaj do koszyka</button>
      </div>
    </div>
  </section>

  <!-- SHOWCASE -->
  <section id="pokaz">
    <div class="container showcase">
      <div class="panel" id="parallaxPanel">
        <div class="layer" aria-hidden="true"></div>
        <div style="position:absolute; inset:0; display:grid; place-items:center; text-align:center; padding:18px">
          <h3 style="margin:.2rem 0">Efekty parallax i tilt</h3>
          <p class="lead">Poruszaj kursorem / przechyl telefon â€” tÅ‚o i karty reagujÄ… subtelnym ruchem.</p>
        </div>
        <div class="badge tag">Tryb Live</div>
      </div>
      <div class="panel" id="interactive">
        <div class="layer" aria-hidden="true"></div>
        <div style="position:absolute; inset:0; display:grid; place-items:center; padding:18px">
          <div class="card show" style="max-width:440px; text-align:center; transform:none">
            <h3>Panel interaktywny</h3>
            <p>Dotknij, by otworzyÄ‡ modal z galeriÄ… i dynamicznym opisem produktu.</p>
            <div style="margin-top:10px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap">
              <button class="btn" id="openModal">OtwÃ³rz galeriÄ™</button>
              <button class="btn secondary" id="moreSpecs">Specyfikacja</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CONFIGURATOR -->
  <section id="konfigurator">
    <div class="container">
      <h2 style="text-align:center; margin-bottom:12px">Konfigurator wyglÄ…du</h2>
      <p class="lead" style="text-align:center; margin-inline:auto; max-width:70ch">Kliknij prÃ³bkÄ™, by zmieniÄ‡ akcent kolorystyczny caÅ‚ej strony w locie.</p>
      <div style="display:flex; justify-content:center">
        <div class="swatches" id="swatches">
          <div class="swatch active" data-colors="#65e1ff,#8a6bff,#ff6fa6" style="background:linear-gradient(135deg,#65e1ff,#ff6fa6)"></div>
          <div class="swatch" data-colors="#7af59b,#4cc9f0,#4361ee" style="background:linear-gradient(135deg,#7af59b,#4361ee)"></div>
          <div class="swatch" data-colors="#ffd166,#ef476f,#8338ec" style="background:linear-gradient(135deg,#ffd166,#8338ec)"></div>
          <div class="swatch" data-colors="#ff9f1c,#2ec4b6,#e71d36" style="background:linear-gradient(135deg,#ff9f1c,#e71d36)"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq">
    <div class="container">
      <h2 style="text-align:center; margin-bottom:10px">FAQ</h2>
      <div class="accordion" style="max-width:820px; margin-inline:auto">
        <details><summary>Na jakich przeglÄ…darkach dziaÅ‚a?</summary><p>Nowoczesne przeglÄ…darki mobilne i desktop (Safari, Chrome, Edge, Firefox). Animacje degradujÄ… siÄ™ Å‚agodnie.</p></details>
        <details><summary>Czy moÅ¼na dodaÄ‡ jasny motyw?</summary><p>Tak, przeÅ‚Ä…cznik moÅ¼e podmieniaÄ‡ zmienne CSS w :root (np. przez klasÄ™ .light).</p></details>
        <details><summary>Gotowe do publikacji?</summary><p>Tak â€” skopiuj plik .html na hosting i gotowe. MoÅ¼esz teÅ¼ uÅ¼yÄ‡ jako komponent w CMS.</p></details>
      </div>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap">
      <div>Â© 2025 Aurora Labs</div>
      <div style="display:flex; gap:8px">
        <a href="#start" class="tag">Do gÃ³ry</a>
        <a class="tag" href="#" id="contact">Kontakt</a>
      </div>
    </div>
  </footer>

  <!-- MODAL -->
  <dialog id="modal" style="border:none; border-radius:16px; padding:0; max-width:min(92vw,720px); background:#0e111a; color:#e9eef7">
    <div style="padding:16px 16px 8px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid rgba(255,255,255,.1)">
      <strong>Galeria Aurora</strong>
      <button id="closeModal" class="btn secondary" style="padding:8px 12px">Zamknij</button>
    </div>
    <div style="padding:14px; display:grid; gap:10px">
      <div style="height:280px; border-radius:12px; border:1px solid rgba(255,255,255,.1); overflow:hidden; position:relative">
        <div id="carousel" style="position:absolute; inset:0; display:flex; transition:transform .5s ease">
          <!-- Slides (SVG) -->
          <svg viewBox="0 0 800 450" width="800" height="450" preserveAspectRatio="xMidYMid slice">
            <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#65e1ff"/><stop offset="1" stop-color="#8a6bff"/></linearGradient></defs>
            <rect width="800" height="450" fill="#0b0e16"/>
            <circle cx="420" cy="180" r="160" fill="url(#g1)" opacity=".35"/>
            <text x="50" y="380" fill="#e9eef7" font-size="44" font-family="Inter" font-weight="800">Aurora â€” Design</text>
          </svg>
          <svg viewBox="0 0 800 450" width="800" height="450" preserveAspectRatio="xMidYMid slice">
            <defs><linearGradient id="g2" x1="0" x2="1"><stop offset="0" stop-color="#8a6bff"/><stop offset="1" stop-color="#ff6fa6"/></linearGradient></defs>
            <rect width="800" height="450" fill="#0b0e16"/>
            <rect x="120" y="90" width="560" height="270" rx="26" fill="url(#g2)" opacity=".45"/>
            <text x="50" y="380" fill="#e9eef7" font-size="44" font-family="Inter" font-weight="800">SuperpÅ‚ynne UI</text>
          </svg>
          <svg viewBox="0 0 800 450" width="800" height="450" preserveAspectRatio="xMidYMid slice">
            <rect width="800" height="450" fill="#0b0e16"/>
            <g transform="translate(60 80)">
              <rect width="200" height="280" rx="18" fill="#121521"/>
              <rect x="230" width="200" height="280" rx="18" fill="#121521"/>
              <rect x="460" width="200" height="280" rx="18" fill="#121521"/>
            </g>
            <text x="50" y="380" fill="#e9eef7" font-size="44" font-family="Inter" font-weight="800">ModuÅ‚owoÅ›Ä‡</text>
          </svg>
        </div>
      </div>
      <div style="display:flex; gap:10px; justify-content:center">
        <button class="btn secondary" id="prev">â†</button>
        <button class="btn" id="next">â†’</button>
      </div>
    </div>
    <div style="padding:12px 16px 18px; border-top:1px solid rgba(255,255,255,.1); color:#cfd7ee">
      <strong>Opis:</strong> Ten modal, karuzela SVG i mikroâ€‘animacje sÄ… w 100% natywne.
    </div>
  </dialog>

<script>
// ---- PRELOADER ----
window.addEventListener('load', ()=>{
  setTimeout(()=> document.getElementById('preloader').style.display='none', 500);
});

// ---- CANVAS STARS / PARTICLES ----
const canvas = document.getElementById('stars');
const ctx = canvas.getContext('2d');
let W,H,stars=[];
function resize(){
  W = canvas.width = window.innerWidth; H = canvas.height = Math.max(window.innerHeight, 600);
  stars = Array.from({length: Math.round(W*H/9000)}, ()=>({x:Math.random()*W,y:Math.random()*H,z:Math.random()*0.6+0.4,r:Math.random()*1.8+0.2}));
}
function draw(){
  ctx.clearRect(0,0,W,H);
  for(const s of stars){
    ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
    ctx.fillStyle = `rgba(255,255,255,${0.25 + s.z*0.6})`; ctx.fill();
    s.x += (mouseX - W/2) * 0.00003 * s.z; s.y += (mouseY - H/2) * 0.00003 * s.z;
  }
  requestAnimationFrame(draw);
}
let mouseX=0, mouseY=0;
window.addEventListener('pointermove', e=>{ mouseX=e.clientX; mouseY=e.clientY; });
window.addEventListener('resize', resize); resize(); draw();

// ---- NAV ACTIVE ON SCROLL ----
const navLinks = document.querySelectorAll('.nav a');
const sections = [...document.querySelectorAll('header, section')];
const navIO = new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      navLinks.forEach(a=> a.classList.toggle('active', a.getAttribute('href') === '#'+e.target.id));
    }
  });
},{threshold:.5});
sections.forEach(s=> navIO.observe(s));

// ---- SCROLL REVEAL ----
const reveal = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); reveal.unobserve(e.target);} });
},{threshold:.25});
document.querySelectorAll('.card').forEach(el=>reveal.observe(el));
const float = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{ if(e.isIntersecting){ e.target.style.opacity=1; e.target.style.transform='translateY(0)'; float.unobserve(e.target);} });
},{threshold:.3});
float.observe(document.getElementById('float1'));

// ---- MAGNETIC BUTTONS ----
document.querySelectorAll('.magnet').forEach(mag=>{
  const btn = mag.querySelector('.btn');
  mag.addEventListener('pointermove', e=>{
    const r = mag.getBoundingClientRect(); const x = e.clientX - (r.left + r.width/2); const y = e.clientY - (r.top + r.height/2);
    btn.style.setProperty('--tx', (x*0.15)+'px'); btn.style.setProperty('--ty', (y*0.15)+'px');
  });
  mag.addEventListener('pointerleave', ()=>{ btn.style.setProperty('--tx','0px'); btn.style.setProperty('--ty','0px'); });
});

// ---- PHONE PARALLAX ON SCROLL ----
const phone = document.getElementById('phone');
document.addEventListener('scroll', ()=>{
  const r = phone.getBoundingClientRect();
  const ratio = Math.min(Math.max((window.innerHeight - r.top)/window.innerHeight,0),1);
  phone.style.transform = `rotate(${(-7 + ratio*5)}deg) translateY(${12 - ratio*12}px)`;
});

// ---- PARALLAX PANEL + TILT ----
const pp = document.getElementById('parallaxPanel');
pp.addEventListener('pointermove', e=>{
  const r = pp.getBoundingClientRect(); const cx = (e.clientX - (r.left + r.width/2))/(r.width/2);
  pp.style.transform = `perspective(900px) rotateY(${cx*4}deg)`;
});
pp.addEventListener('pointerleave', ()=> pp.style.transform = 'none');
window.addEventListener('deviceorientation', (e)=>{
  const x = (e.gamma||0)/45;
  pp.style.transform = `perspective(900px) rotateY(${x*4}deg)`;
});

// ---- TABS ----
const heads = document.querySelectorAll('.tab-head button');
const bodies = document.querySelectorAll('.tab-body>div');
heads.forEach(b=> b.addEventListener('click', ()=>{
  heads.forEach(x=>x.classList.remove('active')); b.classList.add('active');
  bodies.forEach(v=>v.classList.remove('active')); document.getElementById(b.dataset.tab).classList.add('active');
}));

// ---- MODAL & CAROUSEL ----
const modal = document.getElementById('modal');
document.getElementById('openModal').onclick = ()=> modal.showModal();
document.getElementById('closeModal').onclick = ()=> modal.close();
let slide = 0;
function updateCarousel(){ document.getElementById('carousel').style.transform = `translateX(${-slide*100}%)`; }
document.getElementById('prev').onclick = ()=>{ slide = (slide+2)%3; updateCarousel(); }
document.getElementById('next').onclick = ()=>{ slide = (slide+1)%3; updateCarousel(); }
document.getElementById('moreSpecs').onclick = ()=> alert('Specyfikacja (demo): OLED 120Hz, 5000 mAh, IP68');

// ---- CONFIGURATOR (theme swap) ----
const root = document.documentElement;
document.getElementById('swatches').addEventListener('click', (e)=>{
  const s = e.target.closest('.swatch'); if(!s) return;
  document.querySelectorAll('.swatch').forEach(x=>x.classList.remove('active')); s.classList.add('active');
  const [c1,c2,c3] = s.dataset.colors.split(',');
  root.style.setProperty('--acc1', c1); root.style.setProperty('--acc2', c2); root.style.setProperty('--acc3', c3);
  root.style.setProperty('--radial', `radial-gradient(900px 600px at 20% -10%, ${c1}33, transparent 60%), radial-gradient(900px 600px at 120% 10%, ${c2}33, transparent 60%), radial-gradient(900px 600px at 80% 120%, ${c3}24, transparent 60%)`);
});

// ---- BUTTONS ACTIONS ----
function scrollToId(id){ document.querySelector(id).scrollIntoView({behavior:'smooth'}); }
document.getElementById('learn').onclick = ()=> scrollToId('#pokaz');
document.getElementById('buy').onclick  = ()=> alert('Tu podpinamy PayPal / checkout ğŸ˜');
document.getElementById('buy2').onclick = ()=> alert('Dodano do koszyka (demo)');

// ---- CONTACT ----
document.getElementById('contact').onclick = (e)=>{
  e.preventDefault();
  const email = prompt('Podaj eâ€‘mail do kontaktu (demo):','hello@example.com');
  if(email) alert('DziÄ™ki! Napiszemy na: ' + email);
};
</script>
</body>
</html>
